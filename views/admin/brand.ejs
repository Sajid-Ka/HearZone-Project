<%- include("../../views/partials/admin/header") %>
<div class="container">
    <div class="card">
        <h2 class="card-title">Add New Brand</h2>
        <form action="/admin/brands/add" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="brandName">Brand Name:</label>
                <input type="text" id="brandName" name="brandName" class="form-control" required>
            </div>
            <div class="form-group">
                <label for="brandImage">Brand Logo:</label>
                <input type="file" id="brandImage" name="brandImage" class="form-control">
            </div>
            <button type="submit" class="btn btn-primary">Add Brand</button>
        </form>
    </div>

    <div class="card">
        <h2 class="card-title">Existing Brands</h2>
        <table class="brand-table">
            <thead>
                <tr>
                    <th>Brand</th>
                    <th>Logo</th>
                    <th>Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% brands.forEach(brand => { %>
                    <tr>
                        <td><%= brand.brandName %></td>
                        <td>
                            <% if (brand.brandImage && brand.brandImage.length > 0) { %>
                                <img src="<%= brand.brandImage[0] %>" alt="<%= brand.brandName %>" class="brand-image">
                            <% } %>
                        </td>
                        <td>
                            <span class="<%= brand.isBlocked ? 'status-blocked' : 'status-active' %>">
                                <%= brand.isBlocked ? 'Blocked' : 'Active' %>
                            </span>
                        </td>
                        <td class="action-buttons">
                            <form action="/admin/brands/toggle" method="POST" style="display:inline;">
                                <input type="hidden" name="brandId" value="<%= brand._id %>">
                                <button type="submit" class="btn <%= brand.isBlocked ? 'btn-success' : 'btn-danger' %>">
                                    <%= brand.isBlocked ? 'Unblock' : 'Block' %>
                                </button>
                            </form>
                            <form action="/admin/brands/delete" method="POST" style="display:inline;">
                                <input type="hidden" name="brandId" value="<%= brand._id %>">
                                <button type="submit" class="btn btn-danger" onclick="return confirm('Are you sure?')">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </div>
</div>
<%- include("../../views/partials/admin/footer") %>